<mat-accordion (multi)="true">
  <mat-expansion-panel [hideToggle]="!hasChildTasks()" [disabled]="!hasChildTasks()">
    <!-- This task -->
    <mat-expansion-panel-header>
      <mat-form-field class="example-form-field">
        <input matInput type="text" [(ngModel)]="task.name">
        <button mat-button matSuffix mat-icon-button aria-label="Add sub-task" (click)="addSubTask()">
          <mat-icon>add</mat-icon>
        </button>
        <button mat-button matSuffix mat-icon-button aria-label="Delete task" (click)="deleteThisTask()">
          <mat-icon>clear</mat-icon>
        </button>
        <button mat-button matSuffix mat-icon-button aria-label="Toggle task details">
          <!--todo change to "minimise" : "maximise"-->
          <mat-icon>{{reorderMode == true ? "menu" : ""}}</mat-icon>
        </button>
      </mat-form-field>
    </mat-expansion-panel-header>

    <!-- Sub-tasks -->
    <!-- If task isMaxChildren, prevent more subtasks -->
    <app-task *ngFor="let subtask of task.subtasks" [task]="subtask" (delete)="deleteChildTask($event)"></app-task>

  </mat-expansion-panel>
</mat-accordion>

